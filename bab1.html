<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BAB 1 | 자기소개</title>

<style>
body { font-family: Arial, sans-serif; background:#fff0f5; margin:0; }
header { background:linear-gradient(#ff99cc,#ff66aa); padding:15px; color:#fff; font-size:1.5em; }

.menu-container { background:#fff0f5; padding:10px; overflow-x:auto; }
.menu-buttons { display:flex; gap:10px; }
.menu-btn {
  padding:8px 12px; min-width:100px;
  color:#fff; text-align:center; cursor:pointer;
}
.pink{background:#ff66aa}.orange{background:#ff9933}.blue{background:#3399ff}
.green{background:#33cc99}.purple{background:#9933cc}.brown{background:#996633}
.menu-btn.active{opacity:.7}

.video-container{display:none;padding:10px}
video{width:100%;max-height:70vh;object-fit:cover}

.container{max-width:1100px;margin:auto;background:#fff;padding:20px}
.tabcontent{display:none}
.section-header{
  margin:-20px -20px 20px;
  padding:12px;
  color:#fff;
  font-size:1.4em;
  text-align:center;
}
.header-grammar{background:#ff9933}
.header-kosakata{background:#3399ff}
.header-dialog{background:#9933cc}
.header-culture{background:#33cc99}
.header-latihan{background:#996633}
</style>
</head>

<body>

<header>BAB 1 · 자기소개</header>

<div class="menu-container">
<div class="menu-buttons">
<div class="menu-btn pink" onclick="openTab('Home')">Home</div>
<div class="menu-btn orange" onclick="openTab('Grammar')">Grammar</div>
<div class="menu-btn blue" onclick="openTab('Kosakata')">Kosakata</div>
<div class="menu-btn purple" onclick="openTab('Dialog')">Dialog</div>
<div class="menu-btn green" onclick="openTab('Culture')">Culture</div>
<div class="menu-btn brown" onclick="openTab('Latihan')">Latihan</div>
</div>
</div>

<!-- HOME VIDEO (AUTOPLAY WORKS) -->
<div class="video-container" id="homeVideo">
<video autoplay muted loop playsinline>
  <source src="https://raw.githubusercontent.com/airnetcso/hrd/main/home/1-1.mp4" type="video/mp4">
</video>
</div>

<!-- AUDIO TAB (UNLOCKED AFTER CLICK) -->
<audio id="tabAudio" preload="auto">
  <source src="https://airnetcso.github.io/hrd/audio/b1.mp3" type="audio/mpeg">
</audio>

<div class="container">

<div id="Home" class="tabcontent"></div>

<div id="Grammar" class="tabcontent">
<div class="section-header header-grammar">문법</div>
<p>입니다 / 입니까 → digunakan dalam situasi formal.</p>
</div>

<div id="Kosakata" class="tabcontent">
<div class="section-header header-kosakata">어휘</div>
<p>회사원, 학생, 근로자</p>
</div>

<div id="Dialog" class="tabcontent">
<div class="section-header header-dialog">대화</div>
<p>안녕하세요? 아궁입니다.</p>
</div>

<div id="Culture" class="tabcontent">
<div class="section-header header-culture">문화</div>
<p>Perkenalan di Korea bersifat formal.</p>
</div>

<div id="Latihan" class="tabcontent">
<div class="section-header header-latihan">연습</div>
<p>저는 네팔 사람(은/는)입니다.</p>
</div>

</div>

<script>
const tabAudio = document.getElementById('tabAudio');
const playedTabs = {};
let audioUnlocked = false;

function unlockAudio() {
  if (!audioUnlocked) {
    tabAudio.play().then(() => {
      tabAudio.pause();
      tabAudio.currentTime = 0;
      audioUnlocked = true;
    }).catch(()=>{});
  }
}

function openTab(tab) {
  unlockAudio();

  document.querySelectorAll('.tabcontent').forEach(t => t.style.display='none');
  document.querySelectorAll('.menu-btn').forEach(b => b.classList.remove('active'));

  document.getElementById(tab).style.display='block';
  event.currentTarget.classList.add('active');

  const isHome = tab === 'Home';
  document.getElementById('homeVideo').style.display = isHome ? 'block' : 'none';

  tabAudio.pause();
  tabAudio.currentTime = 0;

  if (!isHome && audioUnlocked && !playedTabs[tab]) {
    tabAudio.play().catch(()=>{});
    playedTabs[tab] = true;
  }
}

window.onload = () => {
  document.querySelector('.menu-btn.pink').click();
};
</script>

</body>
</html>
