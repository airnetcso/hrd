<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BAB 1 | 자기소개</title>

<style>
body { font-family: Arial, sans-serif; background:#fff0f5; margin:0; color:#333; }
header { background:linear-gradient(#ff99cc,#ff66aa); padding:15px 20px; }
.chapter-number { font-size:1.8em; font-weight:bold; color:#fff; }

.menu-container { background:#fff0f5; padding:12px; overflow-x:auto; white-space:nowrap; }
.menu-buttons { display:inline-flex; gap:10px; }
.menu-btn {
  padding:8px 12px; min-width:100px; font-size:.85em;
  color:#fff; cursor:pointer; text-align:center;
}
.pink{background:#ff66aa}.orange{background:#ff9933}.blue{background:#3399ff}
.green{background:#33cc99}.purple{background:#9933cc}.brown{background:#996633}
.menu-btn.active{opacity:.75}

.video-container{display:none;padding:15px}
video{
  width:100%;max-height:70vh;object-fit:cover;
  box-shadow:0 5px 20px rgba(0,0,0,.3)
}

.container{
  max-width:1100px;margin:auto;background:#fff;
  padding:20px;box-shadow:0 5px 25px rgba(0,0,0,.15)
}

.learning-goals{
  display:none;background:#fff5fb;border:3px solid #ff99cc;
  padding:25px;margin-bottom:30px
}

.section-header{
  text-align:center;color:#fff;font-size:1.5em;
  padding:12px;margin:-20px -20px 20px
}
.header-grammar{background:#ff9933}
.header-kosakata{background:#3399ff}
.header-dialog{background:#9933cc}
.header-culture{background:#33cc99}
.header-latihan{background:#996633}

.tabcontent{display:none}
.carousel{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:20px
}
.carousel img{
  width:100%;
  box-shadow:0 4px 12px rgba(0,0,0,.15)
}
</style>
</head>

<body>

<header>
  <div class="chapter-number">BAB 1 · 자기소개</div>
</header>

<div class="menu-container">
  <div class="menu-buttons">
    <div class="menu-btn pink" onclick="openTab('Home')">Home</div>
    <div class="menu-btn orange" onclick="openTab('Grammar')">문법<br>Tata Bahasa</div>
    <div class="menu-btn blue" onclick="openTab('Kosakata')">어휘<br>Kosakata</div>
    <div class="menu-btn purple" onclick="openTab('Dialog')">대화<br>Percakapan</div>
    <div class="menu-btn green" onclick="openTab('Culture')">문화<br>Budaya</div>
    <div class="menu-btn brown" onclick="openTab('Latihan')">연습<br>Latihan</div>
  </div>
</div>

<!-- VIDEO HOME (AUTOPLAY + SUARA, TANPA PLAYER) -->
<div class="video-container" id="homeVideo">
  <video autoplay playsinline>
    <source src="https://raw.githubusercontent.com/airnetcso/hrd/main/home/1-1.mp4" type="video/mp4">
  </video>
</div>

<!-- AUDIO GLOBAL TAB (AUTOPLAY VIA USER CLICK, TANPA PLAYER) -->
<audio id="tabAudio" preload="auto">
  <source src="https://airnetcso.github.io/hrd/audio/b1.mp3" type="audio/mpeg">
</audio>

<div class="container">

<div class="learning-goals" id="learningGoals">
  <h2>학습 목표 | Tujuan Pembelajaran</h2>
  <ul>
    <li>Memperkenalkan diri secara formal</li>
    <li>Menyebutkan asal negara</li>
    <li>Menyebutkan pekerjaan</li>
    <li>Menggunakan 입니다 / 입니까</li>
  </ul>
</div>

<div id="Home" class="tabcontent"></div>

<div id="Grammar" class="tabcontent">
  <div class="section-header header-grammar">문법 | TATA BAHASA</div>
  <p><b>입니다 / 입니까</b> digunakan dalam situasi formal.</p>
  <ul>
    <li>저는 아궁입니다.</li>
    <li>어느 나라 사람입니까?</li>
  </ul>
  <p><b>은 / 는</b> adalah penanda topik.</p>
  <img src="https://airnetcso.github.io/eps/image/5.jpg">
</div>

<div id="Kosakata" class="tabcontent">
  <div class="section-header header-kosakata">어휘 | KOSAKATA</div>
  <div class="carousel">
    <img src="https://airnetcso.github.io/eps/image/5.jpg">
    <img src="https://airnetcso.github.io/eps/image/5.jpg">
    <img src="https://airnetcso.github.io/eps/image/5.jpg">
  </div>
</div>

<div id="Dialog" class="tabcontent">
  <div class="section-header header-dialog">대화 | PERCAKAPAN</div>
  <p><b>A:</b> 안녕하세요? 아궁입니다.</p>
  <p><b>B:</b> 어느 나라 사람입니까?</p>
  <p><b>A:</b> 인도네시아 사람입니다.</p>
  <img src="https://airnetcso.github.io/eps/image/5.jpg">
</div>

<div id="Culture" class="tabcontent">
  <div class="section-header header-culture">문화 | BUDAYA</div>
  <p>
    Dalam budaya Korea, perkenalan diri dilakukan singkat dan formal,
    terutama di lingkungan kerja.
  </p>
</div>

<div id="Latihan" class="tabcontent">
  <div class="section-header header-latihan">연습 | LATIHAN</div>
  <ol>
    <li>저는 네팔 사람( 은 / 는 )입니다.</li>
    <li>아궁( 은 / 는 ) 회사원입니다.</li>
  </ol>
</div>

</div>

<script>
const playedTabs = {};
const tabAudio = document.getElementById('tabAudio');
let audioUnlocked = false;

// unlock audio using user interaction
function unlockAudio() {
  if (!audioUnlocked) {
    tabAudio.play().then(() => {
      tabAudio.pause();
      tabAudio.currentTime = 0;
      audioUnlocked = true;
    }).catch(()=>{});
  }
}

function openTab(tabName) {
  // user click = unlock audio
  unlockAudio();

  document.querySelectorAll('.tabcontent').forEach(t => t.style.display = 'none');
  document.querySelectorAll('.menu-btn').forEach(b => b.classList.remove('active'));

  document.getElementById(tabName).style.display = 'block';
  event.currentTarget.classList.add('active');

  const isHome = tabName === 'Home';
  document.getElementById('homeVideo').style.display = isHome ? 'block' : 'none';
  document.getElementById('learningGoals').style.display = isHome ? 'block' : 'none';

  tabAudio.pause();
  tabAudio.currentTime = 0;

  if (!isHome && audioUnlocked && !playedTabs[tabName]) {
    tabAudio.play().catch(()=>{});
    playedTabs[tabName] = true;
  }
}

// default load → Home (tanpa audio)
window.onload = () => {
  document.querySelector('.menu-btn.pink').classList.add('active');
  document.getElementById('Home').style.display = 'block';
  document.getElementById('homeVideo').style.display = 'block';
  document.getElementById('learningGoals').style.display = 'block';
};
</script>

</body>
</html>
